<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>2.5D Studio v17</title>
  <link rel="stylesheet" href="/static/styles.css" />
</head>
<body>
  <header>
    <h1>迷之2.5D</h1>
    <p>vibe coding version</p>
  </header>

  <main class="layout">
    <!-- 左側：流程檢視 -->
    <section class="workspace">
      <div class="card">
        <h2>上傳照片</h2>
        <input id="file" type="file" accept="image/*"/>
        <button id="runBtn" disabled>開始處理</button>
        <div id="status" class="status">尚未開始</div>
      </div>

      <div class="card">
        <h3>過程檢視</h3>
        <div class="grid grid-2">
          <figure><figcaption>原始圖（規格化）</figcaption><img id="img-original" alt="original"/></figure>
          <figure><figcaption>深度圖</figcaption><img id="img-depth" alt="depth"/></figure>
          <figure><figcaption>人物實例（彩色匯總）</figcaption><img id="img-mask" alt="instances-color"/></figure>
          <figure><figcaption>背景重畫（partial）</figcaption><img id="img-bg-partial" alt="bg-partial"/></figure>
        </div>
      </div>
    </section>

    <!-- 右側：結果展示 -->
    <section class="showcase">
      <div class="frame">
        <!-- 視差舞台 -->
        <div id="viewer-outer">
          <div id="viewer-tilt">
            <div id="viewer" class="scene"></div>
          </div>
        </div>
        <div class="hint">移動滑鼠或傾斜裝置查看視差效果</div>
      </div>

      <div class="card">
        <h3>輸出</h3>
        <div class="grid grid-3">
          <figure><figcaption>背景（重畫）</figcaption><img id="img-bg" alt="bg"/></figure>
          <figure>
            <figcaption>前景（全部實例）</figcaption>
            <div id="img-fg" class="fg-grid"></div>
          </figure>
          <figure><figcaption>深度（最終）</figcaption><img id="img-depth-final" alt="depth-final"/></figure>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <small>規格化：1024×1024 / 1536×1024 / 1024×1536；Responses 的 size 同步設定。</small>
  </footer>

  <!-- 載入順序：parallax → viewer（會用到 parallax）→ app -->
  <script src="/static/parallax.min.js"></script>
  <script src="/static/viewer.js"></script>
  <script src="/static/app.js"></script>
</body>
</html>
